# Сервис обработки загружаемых документов  
Сервис позволяет зарегистрированным пользователям загружать документы через API. 
При загрузке документа администратор платформы получает уведомление по электронной почте.
Администратор может просматривать, подтверждать или отклонять загруженные документы через Django admin. 
После подтверждения или отклонения документа пользователю, загрузившему документ, приходит уведомление по электронной почте. 

Проект реализован на Django + DRF с поддержкой Docker, PostgreSQL, Redis, Celery

## Установка и настройка на локальной машине 
1. Установить PostgreSQl на локальную машину, запустить сервер, создать базу данных и пользователя 
2. Установить Redis на локальную машину 
3. Открыть корневую папку проекта, активировать виртуальное окружение и установить все зависимости
4. Создать файл .env, скопировать в него содержимое файла .env.example и заполнить значения переменных 
5. Создать и применить миграции 
6. Запустить Django-сервер 
7. Запустить Redis-сервер 
8. Запустить worker (рабочий процесс) Celery
9. Создать администратора командой 'python manage.py create_adminuser'

## Установка и настройка в Docker-контейнере 
1. Создать файл .env, скопировать в него содержимое файла .env.example и заполнить значения переменных 
2. Открыть файл docker-compose.yml, заполнить переменные окружения базы данных (POSTGRES_DB, POSTGRES_USER, POSTGRES_PASSWORD)
3. Запустить docker compose

## Важно
В техническом задании администратор указан в единственном числе. 
Поэтому в проекте реализован один администратор. При загрузке документа уведомление получает только он.
Для его создания необходимо заполнить переменные ADMIN_EMAIL и ADMIN_PASSWORD в файле .env
и применить команду "python manage.py create_adminuser". 

Пользователи с полем is_staff=True имеют те же права, что администратор. Но уведомления о загрузке документов не получают. 

